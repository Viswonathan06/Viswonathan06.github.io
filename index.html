<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Visw√≥ Nathan ¬∑ Academic-style Portfolio</title>
  <meta name="description" content="Single-page academic-style site with About, Publications, Projects, CV, and Contact." />
  <link rel="preload" as="image" href="assets/profile.jpg" />
  <style>
    /* ------- THEME TOKENS ------- */
    :root{
      color-scheme: light dark;
      --bg: #ffffff; --text:#0f1220; --muted:#5c6577; --link:#0b5fff; --border:#e6e8ef;
      --sidebar:#f5f7fb; --chip:#eef2ff; --shadow: 0 1px 2px rgba(0,0,0,.04), 0 8px 28px rgba(0,0,0,.06);
    }
    [data-theme="dark"]{
      --bg:#0b0c10; --text:#e8ebf2; --muted:#aab2c2; --link:#89c3ff; --border:#1e2433;
      --sidebar:#10131b; --chip:#131a2a; --shadow: 0 1px 2px rgba(0,0,0,.5), 0 8px 28px rgba(0,0,0,.35);
    }
    @media (prefers-color-scheme: dark){
      :root:not([data-theme]){ --bg:#0b0c10; --text:#e8ebf2; --muted:#aab2c2; --link:#89c3ff; --border:#1e2433; --sidebar:#10131b; --chip:#131a2a; --shadow: 0 1px 2px rgba(0,0,0,.5), 0 8px 28px rgba(0,0,0,.35); }
    }

    /* ------- BASE ------- */
    *,*::before,*::after{box-sizing:border-box}
    html{scroll-behavior:smooth}
    body{margin:0; font:16px/1.65 system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial; background:var(--bg); color:var(--text);}    
    a{color:var(--link); text-decoration:none}
    a:focus-visible, button:focus-visible{outline:3px solid color-mix(in oklab, var(--link) 65%, transparent); outline-offset:2px}
    img{max-width:100%; height:auto; display:block}

    /* ------- LAYOUT (Sidebar + Topbar + Content) ------- */
    .sidebar{position:fixed; inset:0 auto 0 0; width:280px; padding:18px; background:var(--sidebar); border-right:1px solid var(--border);}    
    .sidebar .brand{ display:flex; align-items:center; gap:12px; font-weight:800; }
    .sidebar .avatar{ width:64px; height:64px; border-radius:999px; object-fit:cover; border:1px solid var(--border); }
    .sidebar small{ color:var(--muted); }
    .sidebar .links{ margin-top:14px; display:grid; gap:8px; }
    .sline{ display:flex; align-items:center; gap:10px; color:var(--muted); }

    .topbar{ position:sticky; top:0; z-index:20; margin-left:280px; background:var(--bg); border-bottom:1px solid var(--border); }
    .topbar .row{ max-width:1000px; margin:0 auto; padding:12px 20px; display:flex; align-items:center; gap:12px; justify-content:space-between; }
    nav.primary{ display:flex; gap:10px; flex-wrap:wrap; }
    nav.primary a{ padding:8px 10px; border-radius:8px; color:var(--muted); }
    nav.primary a[aria-current="true"]{ color:var(--text); background:var(--chip); }

    .theme-toggle{ appearance:none; background:transparent; border:1px solid var(--border); padding:8px 10px; border-radius:8px; cursor:pointer; }

    .content{ margin-left:280px; }
    .section{ max-width:1000px; margin:0 auto; padding:36px 20px; scroll-margin-top:80px; }

    h1{ font-size:clamp(26px, 4vw, 40px); letter-spacing:.2px; margin:0 0 6px; }
    h2{ font-size:clamp(20px, 3vw, 28px); margin:0 0 8px; }
    p.lead{ color:var(--muted); margin:6px 0 14px; }

    .chips{ display:flex; flex-wrap:wrap; gap:8px; }
    .chip{ background:var(--chip); padding:6px 10px; border-radius:999px; border:1px solid var(--border); font-size:.9rem; color:var(--muted); }

    ul.clean{ list-style:disc; padding-left:22px; margin:8px 0; }

    .card{ border:1px solid var(--border); border-radius:12px; padding:14px; box-shadow:var(--shadow); background:transparent; }

    .cv-frame{ width:100%; height:72vh; border:1px solid var(--border); border-radius:10px; }

    footer{ margin-left:280px; border-top:1px solid var(--border); color:var(--muted); text-align:center; padding:16px; }

    @media (max-width:920px){
      .sidebar{ position:static; width:auto; border-right:0; }
      .topbar, .content, footer{ margin-left:0; }
    }
  </style>
</head>
<body>
  <a class="skip" href="#about">Skip to content</a>

  <!-- Sidebar -->
  <aside class="sidebar" aria-label="Profile">
    <div class="brand">
      <img class="avatar" src="assets/profile.jpg" alt="Portrait of Visw√≥ Nathan" />
      <div>
        <div>Visw√≥ Nathan</div>
        <small>Short biography for the left-hand sidebar. Add role / interests / affiliation.</small>
      </div>
    </div>
    <div class="links" aria-label="External links">
      <div class="sline">üìç <span>Earth</span></div>
      <div class="sline">‚úâÔ∏è <a href="mailto:you@example.com">you@example.com</a></div>
      <div class="sline">üêô <a href="#" rel="noopener">GitHub</a></div>
      <div class="sline">üîó <a href="#" rel="noopener">Google Scholar</a></div>
      <div class="sline">üß¨ <a href="#" rel="noopener">ORCID</a></div>
      <div class="sline">üíº <a href="#" rel="noopener">LinkedIn</a></div>
    </div>
  </aside>

  <!-- Top bar with single-page nav + day/night toggle -->
  <div class="topbar">
    <div class="row">
      <nav class="primary" aria-label="Primary">
        <a href="#about" id="link-about">About</a>
        <a href="#publications" id="link-publications">Publications</a>
        <a href="#projects" id="link-projects">Projects</a>
        <a href="#cv" id="link-cv">CV</a>
        <a href="#contact" id="link-contact">Contact</a>
      </nav>
      <button class="theme-toggle" id="themeToggle" aria-label="Toggle dark mode" title="Toggle dark mode">üåô</button>
    </div>
  </div>

  <!-- Main content (single page sections) -->
  <main class="content" id="main">
    <section class="section" id="about" aria-label="About">
      <h1>Hi, I'm Visw√≥.</h1>
      <p class="lead">I build accessible, fast web experiences. Focus areas: a11y, design systems, and transcript‚Äëpowered EdTech tools.</p>
      <div class="chips" aria-label="Keywords">
        <span class="chip">TypeScript</span>
        <span class="chip">React</span>
        <span class="chip">Design Systems</span>
        <span class="chip">Accessibility</span>
      </div>
    </section>

    <section class="section" id="publications" aria-label="Publications">
      <h2>Publications</h2>
      <ul class="clean">
        <li><strong>Title of Paper</strong> ‚Äî Venue, Year. <a href="#">PDF</a> ¬∑ <a href="#">DOI</a></li>
        <li><strong>Another Paper</strong> ‚Äî Venue, Year. <a href="#">PDF</a> ¬∑ <a href="#">Code</a></li>
      </ul>
    </section>

    <section class="section" id="projects" aria-label="Projects">
      <h2>Projects</h2>
      <div class="card"><strong>Classroom Assistant Platform</strong><br/>Deepgram transcription, auto-notes/quizzes, chatbot.</div>
      <div class="card" style="margin-top:10px"><strong>Design System Starter</strong><br/>Accessible components and tokens.</div>
      <div class="card" style="margin-top:10px"><strong>Realtime Whiteboard</strong><br/>CRDT collaboration + WebRTC.</div>
    </section>

    <section class="section" id="cv" aria-label="Curriculum Vitae">
      <h2>CV</h2>
      <p class="lead">View or download a copy.</p>
      <p>
        <a class="chip" href="assets/cv.pdf" download>‚¨áÔ∏è Download CV (PDF)</a>
        &nbsp;¬∑&nbsp;
        <a class="chip" href="assets/cv.pdf" target="_blank" rel="noopener">Open in new tab</a>
      </p>
      <iframe class="cv-frame" src="assets/cv.pdf" title="CV preview"></iframe>
    </section>

    <section class="section" id="contact" aria-label="Contact">
      <h2>Contact</h2>
      <form name="contact" action="https://formspree.io/f/your-id" method="POST" style="max-width:640px">
        <label for="name">Name</label>
        <input id="name" name="name" type="text" autocomplete="name" required style="width:100%;padding:10px;border:1px solid var(--border);border-radius:8px"/>
        <label for="email" style="margin-top:10px;display:block">Email</label>
        <input id="email" name="email" type="email" autocomplete="email" required style="width:100%;padding:10px;border:1px solid var(--border);border-radius:8px"/>
        <label for="message" style="margin-top:10px;display:block">Message</label>
        <textarea id="message" name="message" rows="5" required style="width:100%;padding:10px;border:1px solid var(--border);border-radius:8px"></textarea>
        <button class="theme-toggle" type="submit" style="margin-top:12px">Send</button>
      </form>
    </section>
  </main>

  <footer>
    <small>¬© <span id="year"></span> Visw√≥ Nathan</small>
  </footer>

  <script>
    // ---- Theme toggle with localStorage and prefers-color-scheme ----
    (function(){
      const root = document.documentElement;
      const btn = document.getElementById('themeToggle');
      const stored = localStorage.getItem('theme');
      if(stored==='dark' || stored==='light') root.setAttribute('data-theme', stored);
      const updateIcon = ()=>{ btn.textContent = (root.getAttribute('data-theme')==='dark') ? '‚òÄÔ∏è' : 'üåô'; btn.setAttribute('aria-label', (btn.textContent==='‚òÄÔ∏è')?'Switch to light mode':'Switch to dark mode'); };
      updateIcon();
      btn.addEventListener('click', ()=>{
        const next = (root.getAttribute('data-theme')==='dark') ? 'light' : 'dark';
        root.setAttribute('data-theme', next); localStorage.setItem('theme', next); updateIcon();
      });
    })();

    // ---- Scrollspy: highlight current section in top nav ----
    (function(){
      const ids = ['about','publications','projects','cv','contact'];
      const map = new Map(ids.map(id=>[id, document.getElementById('link-'+id)]));
      const sections = ids.map(id=>document.getElementById(id));
      const io = new IntersectionObserver((entries)=>{
        entries.forEach(entry=>{
          if(entry.isIntersecting){
            const id = entry.target.id;
            map.forEach((a,key)=>{ if(a) a.setAttribute('aria-current', key===id ? 'true' : 'false'); });
            history.replaceState(null,'','#'+id);
          }
        });
      }, { rootMargin: '-45% 0px -50% 0px', threshold:[0,1] });
      sections.forEach(s=>s && io.observe(s));
      document.getElementById('year').textContent = new Date().getFullYear();
      const start = (location.hash||'#about').slice(1); if(map.get(start)) map.get(start).setAttribute('aria-current','true');
    })();
  </script>

  <!-- Setup:
    1) Put your headshot at assets/profile.jpg.
    2) Place your CV at assets/cv.pdf.
    3) Update sidebar links and contact form endpoint.
  -->
</body>
</html>
